{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "baseBranchPatterns": [
    "main",
    "release-30.0",
    "release-31.0",
    "release-32.0"
  ],
  "enabledManagers": [
    "custom.regex"
  ],
  "prCreation": "immediate",
  "prHourlyLimit": 0,
  "prConcurrentLimit": 0,
  "automerge": false,
  "labels": [
    "ok-to-test"
  ],
  "commitMessagePrefix": ":seedling: ",
  "semanticCommits": "disabled",
  "packageRules": [
    {
      "matchBaseBranches": [
        "main"
      ],
      "description": "run before 6am on Mondays",
      "schedule": [
        "* 0-5 * * 1"
      ]
    },
    {
      "matchBaseBranches": [
        "release-30.0",
        "release-31.0",
        "release-32.0"
      ],
      "description": "run before 6am every day",
      "schedule": [
        "* 0-5 * * *"
      ]
    }
  ],
  "customManagers": [
    {
      "customType": "regex",
      "managerFilePatterns": [
        "/^Dockerfile$/"
      ],
      "matchStrings": [
        "ARG IRONIC_SOURCE=(?<currentDigest>[a-f0-9]{40})\\s+#\\s*(?<currentValue>[^\\n]+)"
      ],
      "datasourceTemplate": "git-refs",
      "depNameTemplate": "openstack-ironic",
      "packageNameTemplate": "https://opendev.org/openstack/ironic.git",
      "versioningTemplate": "loose",
      "autoReplaceStringTemplate": "ARG IRONIC_SOURCE={{#if newDigest}}{{{newDigest}}}{{else}}{{{newValue}}}{{/if}} # {{{currentValue}}}",
      "changelogUrlTemplate": "https://github.com/openstack/ironic/compare/{{{currentDigest}}}...{{{newDigest}}}"
    }
  ]
}
